(function(){var f=/flowplayer\-.*\.swf$/,g=/^\d+(?:\.\d+)?$/,d=function(a){if(g.test(a))return a+"px";return a},h=function(a){a=a.attributes;return a.data&&f.test(a.data)},i=function(a,b){a=a.createFakeParserElement(b,"cke_flowplayer","flowplayer",true);var c=a.attributes.style||"",e=b.attributes.width;b=b.attributes.height;if(typeof e!="undefined")c=a.attributes.style=c+"width:"+d(e)+";";if(typeof b!="undefined")a.attributes.style=c+"height:"+d(b)+";";return a};CKEDITOR.plugins.add("flowplayer", {required:["fakeobjects"],lang:["en"],init:function(a){CKEDITOR.scriptLoader.load(this.path+"flowplayer-3.1.4.min.js");CKEDITOR.tools.extend(CKEDITOR.config,{flowplayer:{swf:this.path+"flowplayer-3.1.5.swf"}});a.addCommand("flowplayer",new CKEDITOR.dialogCommand("flowplayer"));a.ui.addButton("Flowplayer",{label:a.lang.flowplayer.label,command:"flowplayer",icon:CKEDITOR.getUrl(this.path+"images/btn_icon.gif")});CKEDITOR.dialog.add("flowplayer",this.path+"dialogs/flowplayer.js");a.addCss("img.cke_flowplayer{background-image: url("+ CKEDITOR.getUrl(this.path+"images/fake_element_icon.gif")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},afterInit:function(a){var b=a.dataProcessor;(b=b&&b.dataFilter)&&b.addRules({elements:{"cke:object":function(c){if(h(c))return i(a,c);return null}}},1)}})})();